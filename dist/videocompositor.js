var VideoCompositor=function(e){function t(i){if(r[i])return r[i].exports;var a=r[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var r=[],i=!0,a=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);i=!0);}catch(l){a=!0,n=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(a)throw n}}return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){p.push(e)}function s(e){void 0===g&&(g=e);for(var t=(e-g)/1e3,r=0;r<p.length;r++)p[r].update(t);g=e,requestAnimationFrame(s)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),u=r(1),c=i(u),f=r(3),h=i(f),d=r(4),v=i(d),p=(r(5),[]),g=void 0,y=new Map;y.set("video",c["default"]).set("image",h["default"]).set("canvas",v["default"]),s();var m=function(){function e(t){n(this,e),this._canvas=t,this._ctx=this._canvas.getContext("webgl"),this._playing=!1,this._mediaSources=new Map,this._mediaSourcePreloadNumber=2,this._playlist=void 0,this._eventMappings=new Map,this._effectShaderPrograms=new Map,this._transitionShaderPrograms=new Map;var r=e.createEffectShaderProgram(this._ctx);this._effectShaderPrograms.set("default",r),this._currentTime=0,this.duration=0,o(this)}return l(e,[{key:"play",value:function(){this._playing=!0;var e=new CustomEvent("play",{detail:{data:this._currentTime,instance:this}});this._canvas.dispatchEvent(e)}},{key:"pause",value:function(){this._playing=!1,this._mediaSources.forEach(function(e,t,r){e.pause()});var e=new CustomEvent("pause",{detail:{data:this._currentTime,instance:this}});this._canvas.dispatchEvent(e)}},{key:"addEventListener",value:function(e,t){this._eventMappings.has(e)?this._eventMappings.get(e).push(t):this._eventMappings.set(e,[t]),this._canvas.addEventListener(e,this._dispatchEvents,!1)}},{key:"_dispatchEvents",value:function(e){for(var t=0;t<e.detail.instance._eventMappings.get(e.type).length;t++)e.detail.instance._eventMappings.get(e.type)[t](e.detail.data)}},{key:"_getPlaylistPlayingStatusAtTime",value:function(e,t){for(var r=[],i=[],a=[],n=0;n<e.tracks.length;n++)for(var o=e.tracks[n],s=0;s<o.length;s++){var l=o[s],u=l.start+l.duration;t>u?a.push(l):t>l.start&&u>t?i.push(l):t<=l.start&&r.push(l)}return[r,i,a]}},{key:"_sortMediaSourcesByStartTime",value:function(e){return e.sort(function(e,t){return e.start-t.start}),e}},{key:"_getEffectShaderProgramForMediaSource",value:function(t){var r=this._playlist.effects,i=this._effectShaderPrograms.get("default");if(void 0===r)return i;var a=!0,n=!1,o=void 0;try{for(var s,l=Object.keys(r)[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var u=s.value,c=r[u];if(c.inputs.indexOf(t)>-1){if(this._effectShaderPrograms.has(c.effect.id))return this._effectShaderPrograms.get(c.effect.id);var f=e.createEffectShaderProgram(this._ctx,c);return this._effectShaderPrograms.set(c.effect.id,f),f}}}catch(h){n=!0,o=h}finally{try{!a&&l["return"]&&l["return"]()}finally{if(n)throw o}}return i}},{key:"_loadMediaSource",value:function(e,t){switch(void 0===t&&(t=function(e){}),e.type){case"video":var r=new c["default"](e,this._ctx);r.onready=t,r.load(),this._mediaSources.set(e.id,r);break;case"image":var i=new h["default"](e,this._ctx);i.onready=t,i.load(),this._mediaSources.set(e.id,i);break;case"canvas":var a=new v["default"](e,this._ctx);a.onready=t,a.load(),this._mediaSources.set(e.id,a);break;default:throw{error:5,msg:"mediaSourceReference "+e.id+" has unrecognized type "+e.type,toString:function(){return this.msg}}}}},{key:"_calculateTransitions",value:function(e,t){e.length}},{key:"update",value:function(e){if(void 0!==this._playlist&&this._playing!==!1){var t=this._getPlaylistPlayingStatusAtTime(this._playlist,this._currentTime),r=a(t,3),i=r[0],n=r[1],o=r[2];if(i=this._sortMediaSourcesByStartTime(i),0===i.length&&0===n.length){this.pause();var s=new CustomEvent("ended",{detail:{data:this.currentTime,instance:this}});return this.currentTime=0,void this._canvas.dispatchEvent(s)}for(var l=0;l<this._mediaSourcePreloadNumber&&l!==i.length;l++)this._mediaSources.has(i[l].id)===!1&&this._loadMediaSource(i[l]);for(var l=0;l<o.length;l++){var u=o[l];if(this._mediaSources.has(u.id)){var c=this._mediaSources.get(u.id);c.destroy(),this._mediaSources["delete"](u.id)}}for(var f=!0,l=0;l<n.length;l++){var h=n[l].id;this._mediaSources.has(h)?this._mediaSources.get(h).isReady()||(f=!1):(this._loadMediaSource(n[l]),f=!1)}if(f!==!1){this._canvas.width,this._canvas.height;n.reverse(),this._calculateTransitions(n,this._currentTime);for(var l=0;l<n.length;l++){var h=n[l].id,c=this._mediaSources.get(h);c.play();var d=this._getEffectShaderProgramForMediaSource(h);c.render(d)}this._currentTime+=e}}}},{key:"currentTime",set:function(e){if(console.log("Seeking to",e),void 0!==this._playlist){var t=this._getPlaylistPlayingStatusAtTime(this._playlist,e),r=a(t,3),i=(r[0],r[1]);r[2];this._mediaSources.forEach(function(e,t,r){e.destroy()}),this._mediaSources.clear();for(var n=0;n<i.length;n++){var o=i[n].id;if(this._mediaSources.has(o)===!1){this._loadMediaSource(i[n],function(t){t.seek(e)})}else this._mediaSources.get(o).seek(e)}this._currentTime=e;var s=new CustomEvent("seek",{detail:{data:e,instance:this}});this._canvas.dispatchEvent(s)}},get:function(){return this._currentTime}},{key:"playlist",set:function(t){e.validatePlaylist(t),this.duration=e.calculatePlaylistDuration(t),this._playlist=t,this._mediaSources.forEach(function(e,t,r){e.destroy()}),this._mediaSources.clear()}}],[{key:"calculateTrackDuration",value:function(e){for(var t=0,r=0;r<e.length;r++){var i=e[r].start+e[r].duration;i>t&&(t=i)}return t}},{key:"calculatePlaylistDuration",value:function(t){for(var r=0,i=0;i<t.tracks.length;i++){var a=t.tracks[i],n=e.calculateTrackDuration(a);n>r&&(r=n)}return r}},{key:"validatePlaylist",value:function(e){for(var t=new Map,r=0;r<e.tracks.length;r++)for(var i=e.tracks[r],a=0;a<i.length;a++){var n=i[a];if(t.has(n.id))throw{error:1,msg:"MediaSourceReference "+n.id+" in track "+r+" has a duplicate ID.",toString:function(){return this.msg}};t.set(n.id,!0)}for(var r=0;r<e.tracks.length;r++)for(var i=e.tracks[r],a=0;a<i.length;a++){var n=i[a];if(void 0===n.id)throw{error:2,msg:"MediaSourceReference "+n.id+" in track "+r+" is missing a id property",toString:function(){return this.msg}};if(void 0===n.start)throw{error:2,msg:"MediaSourceReference "+n.id+" in track "+r+" is missing a start property",toString:function(){return this.msg}};if(void 0===n.duration)throw{error:2,msg:"MediaSourceReference "+n.id+" in track "+r+" is missing a duration property",toString:function(){return this.msg}};if(void 0===n.type)throw{error:2,msg:"MediaSourceReference "+n.id+" in track "+r+" is missing a type property",toString:function(){return this.msg}};if(void 0!=n.src&&void 0!=n.element)throw{error:2,msg:"MediaSourceReference "+n.id+" in track "+r+" has both a src and element, it must have one or the other",toString:function(){return this.msg}};if(void 0===n.src&&void 0===n.element)throw{error:2,msg:"MediaSourceReference "+n.id+" in track "+r+" has neither a src or an element, it must have one or the other",toString:function(){return this.msg}}}for(var r=0;r<e.tracks.length;r++)for(var i=e.tracks[r],o=0,a=0;a<i.length;a++){var n=i[a];if(n.start<o)throw{error:3,msg:"MediaSourceReferences "+n.id+" in track "+r+" starts before previous MediaSourceReference",toString:function(){return this.msg}};o=n.start}for(var r=0;r<e.tracks.length;r++)for(var i=e.tracks[r],s=void 0,a=0;a<i.length;a++){var n=i[a];if(void 0!==s){var l=s.start+s.duration,u=n.start;if(l>u)throw{error:4,msg:"Track MediaSourceReferences overlap. MediaSourceReference "+s.id+" in track "+r+" finishes after MediaSourceReference "+n.id+" starts.",toString:function(){return this.msg}}}else s=n}}},{key:"createEffectShaderProgram",value:function(t,r){var i="            attribute vec2 a_position;            attribute vec2 a_texCoord;            varying vec2 v_texCoord;                        void main() {                gl_Position = vec4(2.0*a_position-1.0, 0.0, 1.0);                v_texCoord = a_texCoord;            }",a="            precision mediump float;            uniform sampler2D u_image;            varying vec2 v_texCoord;            void main(){                gl_FragColor = texture2D(u_image, v_texCoord)*vec4(1.0,1.0,1.0,1.0);            }";void 0!==r&&(void 0!==r.effect.fragmentShader&&(a=r.effect.fragmentShader),void 0!==r.effect.vertexShader&&(i=r.effect.vertexShader));var n=e.createShaderProgram(t,i,a);return n}},{key:"createShaderProgram",value:function(t,r,i){var a=e.compileShader(t,r,t.VERTEX_SHADER),n=e.compileShader(t,i,t.FRAGMENT_SHADER),o=t.createProgram();if(t.attachShader(o,a),t.attachShader(o,n),t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS))throw{error:4,msg:"Can't link shader program for track "+trackIndex,toString:function(){return this.msg}};return o}},{key:"compileShader",value:function(e,t,r){var i=e.createShader(r);e.shaderSource(i,t),e.compileShader(i);var a=e.getShaderParameter(i,e.COMPILE_STATUS);if(!a)throw"could not compile shader:"+e.getShaderInfoLog(i);return i}},{key:"renderPlaylist",value:function(t,r,i){var a=r.getContext("2d"),n=r.width,o=r.height,s=o/t.tracks.length,l=e.calculatePlaylistDuration(t),u=n/l,c={video:"#a5a",image:"#5aa",canvas:"#aa5"};a.clearRect(0,0,n,o),a.fillStyle="#999";for(var f=0;f<t.tracks.length;f++)for(var h=t.tracks[f],d=0;d<h.length;d++){var v=h[d],p=v.duration*u,g=s,y=v.start*u,m=s*f;a.fillStyle=c[v.type],a.fillRect(y,m,p,g),a.fill()}void 0!==i&&(a.fillStyle="#000",a.fillRect(i*u,0,1,o))}}]),e}();m.Effects={MONOCHROME:{id:"monochrome-filter",fragmentShader:"                    precision mediump float;                    uniform sampler2D u_image;                    varying vec2 v_texCoord;                    void main(){                        vec4 pixel = texture2D(u_image, v_texCoord);                        float avg = (pixel[0]*0.2125 + pixel[1]*0.7154 + pixel[2]*0.0721)/3.0;                        pixel = vec4(avg*1.5, avg*1.5, avg*1.5, pixel[3]);                        gl_FragColor = pixel;                    }"},SEPIA:{id:"sepia-filter",fragmentShader:"                    precision mediump float;                    uniform sampler2D u_image;                    varying vec2 v_texCoord;                    void main(){                        vec4 pixel = texture2D(u_image, v_texCoord);                        float avg = (pixel[0]*0.2125 + pixel[1]*0.7154 + pixel[2]*0.0721)/3.0;                        pixel = vec4(avg*2.0, avg*1.6, avg, pixel[3]);                        gl_FragColor = pixel;                    }"},BITCRUNCH:{id:"bitcrunch-filter",fragmentShader:"                    precision mediump float;                    uniform sampler2D u_image;                    varying vec2 v_texCoord;                    void main(){                        vec4 pixel = texture2D(u_image, v_texCoord);                        pixel = floor(pixel*vec4(8.0,8.0,8.0,8.0));                        pixel = pixel/vec4(8.0,8.0,8.0,8.0);                        gl_FragColor = pixel*vec4(1.0,1.0,1.0,1.0);                    }"},GREENSCREENMAD:{id:"greenscreen-filter",fragmentShader:"                    precision mediump float;                    uniform sampler2D u_image;                    varying vec2 v_texCoord;                    void main(){                        vec4 pixel = texture2D(u_image, v_texCoord);                        float alpha = 1.0;                        float r = pixel[0];                        float g = pixel[1];                        float b = pixel[2];                        float y =  0.299*r + 0.587*g + 0.114*b;                        float u = -0.147*r - 0.289*g + 0.436*b;                        float v =  0.615*r - 0.515*g - 0.100*b;                        ;                        alpha = (v+u)*10.0 +2.0;                                                pixel = floor(pixel*vec4(2.0,2.0,2.0,2.0));                        pixel = pixel/vec4(2.0,2.0,2.0,2.0);                        pixel = vec4(pixel[2]*2.0, pixel[1]*2.0, pixel[0]*2.0, alpha);                        gl_FragColor = pixel;                    }"},GREENSCREEN:{id:"greenscreen-filter",fragmentShader:"                    precision mediump float;                    uniform sampler2D u_image;                    varying vec2 v_texCoord;                    void main(){                        vec4 pixel = texture2D(u_image, v_texCoord);                        float alpha = 1.0;                        float r = pixel[0];                        float g = pixel[1];                        float b = pixel[2];                        float y =  0.299*r + 0.587*g + 0.114*b;                        float u = -0.147*r - 0.289*g + 0.436*b;                        float v =  0.615*r - 0.515*g - 0.100*b;                        if (y > 0.2 && y < 0.8){                            alpha = (v+u)*40.0 +2.0;                        }                        pixel = vec4(pixel[0], pixel[1], pixel[2], alpha);                        gl_FragColor = pixel;                    }"}},t["default"]=m,e.exports=t["default"]},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=function(e,t,r){for(var i=!0;i;){var a=e,n=t,o=r;s=u=l=void 0,i=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return void 0;e=u,t=n,r=o,i=!0}},l=r(2),u=i(l),c=function(e){function t(e,r){a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),this.sourceStart=0,void 0!==e.sourceStart&&(this.sourceStart=e.sourceStart)}return n(t,e),o(t,[{key:"play",value:function(){s(Object.getPrototypeOf(t.prototype),"play",this).call(this),this.element.play()}},{key:"seek",value:function(e){s(Object.getPrototypeOf(t.prototype),"seek",this).call(this,e),e-this.start<0||e>this.start+this.duration?this.element.currentTime=this.sourceStart:this.element.currentTime=e-this.start+this.sourceStart}},{key:"pause",value:function(){s(Object.getPrototypeOf(t.prototype),"pause",this).call(this),this.element.pause()}},{key:"load",value:function(){if(s(Object.getPrototypeOf(t.prototype),"load",this).call(this))return this.seek(0),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.element),this.ready=!0,void this.onready(this);this.element=document.createElement("video"),this.element.src=this.src,this.element.preload="auto",this.element.load();var e=this;this.element.addEventListener("loadeddata",function(){e.element.currentTime=e.sourceStart,e.seek(0),e.gl.texImage2D(e.gl.TEXTURE_2D,0,e.gl.RGBA,e.gl.RGBA,e.gl.UNSIGNED_BYTE,e.element),e.ready=!0,e.onready(e)},!1)}},{key:"render",value:function(e){s(Object.getPrototypeOf(t.prototype),"render",this).call(this,e)}},{key:"destroy",value:function(){this.element.pause(),s(Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}}]),t}(u["default"]);t["default"]=c,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),a=function(){function e(t,i){r(this,e),this.gl=i,this.id=t.id,this.duration=t.duration,this.start=t.start,this.playing=!1,this.ready=!1,this.element,this.src,this.texture,this.disposeOfElementOnDestroy=!1,void 0!==t.src?(this.disposeOfElementOnDestroy=!0,this.src=t.src):(this.disposeOfElementOnDestroy=!1,this.element=t.element);var a=0,n=1;i.blendFunc(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA),i.enable(i.BLEND),this.texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,this.texture),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST);var o=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,o),i.enableVertexAttribArray(a),i.vertexAttribPointer(a,2,i.FLOAT,!1,0,0),i.bufferData(i.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,1,-1,-1,1,-1,-1]),i.STATIC_DRAW),i.enableVertexAttribArray(n),i.vertexAttribPointer(n,2,i.FLOAT,!1,0,0)}return i(e,[{key:"play",value:function(){this.playing=!0}},{key:"pause",value:function(){console.log("Pausing",this.id),this.playing=!1}},{key:"seek",value:function(e){}},{key:"isReady",value:function(){return this.ready}},{key:"load",value:function(){return console.log("Loading",this.id),void 0!==this.element?!0:!1}},{key:"destroy",value:function(){console.log("Destroying",this.id),this.disposeOfElementOnDestroy&&delete this.element}},{key:"render",value:function(e){this.gl.useProgram(e),this.gl.bindTexture(this.gl.TEXTURE_2D,this.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.element),this.gl.drawArrays(this.gl.TRIANGLES,0,6)}},{key:"onready",value:function(e){}}]),e}();t["default"]=a,e.exports=t["default"]},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=function(e,t,r){for(var i=!0;i;){var a=e,n=t,o=r;s=u=l=void 0,i=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return void 0;e=u,t=n,r=o,i=!0}},l=r(2),u=i(l),c=function(e){function t(e,r){a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r)}return n(t,e),o(t,[{key:"play",value:function(){s(Object.getPrototypeOf(t.prototype),"play",this).call(this)}},{key:"seek",value:function(e){s(Object.getPrototypeOf(t.prototype),"seek",this).call(this,e)}},{key:"pause",value:function(){s(Object.getPrototypeOf(t.prototype),"pause",this).call(this)}},{key:"load",value:function(){if(s(Object.getPrototypeOf(t.prototype),"load",this).call(this))return this.seek(0),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.element),this.ready=!0,void this.onready(this);this.element=new Image;var e=this;this.element.onload=function(){e.gl.texImage2D(e.gl.TEXTURE_2D,0,e.gl.RGBA,e.gl.RGBA,e.gl.UNSIGNED_BYTE,e.element),e.ready=!0,e.onready(e)},this.element.src=this.src}},{key:"render",value:function(e){s(Object.getPrototypeOf(t.prototype),"render",this).call(this,e)}}]),t}(u["default"]);t["default"]=c,e.exports=t["default"]},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),s=function(e,t,r){for(var i=!0;i;){var a=e,n=t,o=r;s=u=l=void 0,i=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,n);if(void 0!==s){if("value"in s)return s.value;var l=s.get;return void 0===l?void 0:l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return void 0;e=u,t=n,r=o,i=!0}},l=r(2),u=i(l),c=function(e){function t(e,r){a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,r),this.width=e.width,this.height=e.height}return n(t,e),o(t,[{key:"play",value:function(){s(Object.getPrototypeOf(t.prototype),"play",this).call(this)}},{key:"seek",value:function(e){s(Object.getPrototypeOf(t.prototype),"seek",this).call(this,e)}},{key:"pause",value:function(){s(Object.getPrototypeOf(t.prototype),"pause",this).call(this)}},{key:"load",value:function(){return s(Object.getPrototypeOf(t.prototype),"load",this).call(this)?(this.seek(0),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.element),this.ready=!0,void this.onready(this)):(this.element=document.createElement("canvas"),this.element.width=this.width,this.element.height=this.height,this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,this.element),this.ready=!0,void this.onready(this))}},{key:"render",value:function(e){s(Object.getPrototypeOf(t.prototype),"render",this).call(this,e)}}]),t}(u["default"]);t["default"]=c,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){var i,a,n,o,s;if(t>e.length||0>=t)return[];if(t==e.length)return[e];if(1==t){for(n=[],i=0;i<e.length;i++)n.push([e[i]]);return n}for(n=[],i=0;i<e.length-t+1;i++)for(o=e.slice(i,i+1),s=r(e.slice(i+1),t-1),a=0;a<s.length;a++)n.push(o.concat(s[a]));return n}function i(e){var t,i,a,n;for(a=[],t=1;t<=e.length;t++)for(n=r(e,t),i=0;i<n.length;i++)a.push(n[i]);return a}Object.defineProperty(t,"__esModule",{value:!0}),t.k_combinations=r,t.combinations=i}]);