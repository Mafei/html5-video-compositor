<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">VideoCompositor | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
</head>
<body class="layout-container">

<header>
  <a href="./">Home</a>
  <a href="identifiers.html">Identifier</a>
  <a href="source.html">Source</a>
  
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/audiomanager.js~AudioManager.html">AudioManager</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/effect.js~Effect.html">Effect</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/effectmanager.js~EffectManager.html">EffectManager</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/main.js~VideoCompositor.html">VideoCompositor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-audioManager">audioManager</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-effect">effect</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-effectManager">effectManager</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-videoCompositor">videoCompositor</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">sources</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/sources/canvassource.js~CanvasSource.html">CanvasSource</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/sources/imagesource.js~ImageSource.html">ImageSource</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/sources/mediasource.js~MediaSource.html">MediaSource</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/sources/videosource.js~VideoSource.html">VideoSource</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-canvasSource">canvasSource</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-imageSource">imageSource</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-mediaSource">mediaSource</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-videoSource">videoSource</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><div class="header-notice">
  <div data-ice="importPath" class="import-path"><pre class="prettyprint"><code data-ice="importPathCode">import VideoCompositor from &apos;<span><a href="file/src/main.js.html#lineNumber30">html5-video-compositor/src/main.js</a></span>&apos;</code></pre></div>
  <span data-ice="access">public</span>
  <span data-ice="kind">class</span>
  
  
  
  <span data-ice="source">| <span><a href="file/src/main.js.html#lineNumber30">source</a></span></span>
</div>

<div class="self-detail detail">
  <h1 data-ice="name">VideoCompositor</h1>

  <div data-ice="instanceDocs" class="instance-docs">
    <span>You can directly use instance of this class.</span>
    
  <span data-ice="instanceDoc"><span><a href="variable/index.html#static-variable-videoCompositor">videoCompositor</a></span></span>
</div>

  
  
  
  
  
  
  
  
  

  
  
  

  

  

  

  
</div>


<div data-ice="staticMethodSummary"><h2>Static Method Summary</h2><table class="summary" data-ice="summary">
  <thead><tr><td data-ice="title" colspan="3">Static Public Methods</td></tr></thead>
  <tbody>
  
  <tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      <span data-ice="static">static</span>
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/src/main.js~VideoCompositor.html#static-method-calculatePlaylistDuration">calculatePlaylistDuration</a></span></span><span data-ice="signature">(playlist: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span>): <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></span></span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description">Calculate the duration of the passed playlist.</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      <span data-ice="static">static</span>
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/src/main.js~VideoCompositor.html#static-method-calculateTrackDuration">calculateTrackDuration</a></span></span><span data-ice="signature">(track: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></span>): <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></span></span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description">Calculate the duration of the passed playlist track.</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      <span data-ice="static">static</span>
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/src/main.js~VideoCompositor.html#static-method-renderPlaylist">renderPlaylist</a></span></span><span data-ice="signature">(playlist: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span>, canvas: <span>Canvas</span>, currentTime: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></span>)</span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description">Render a graphical representation of a playlist to a canvas.</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      <span data-ice="static">static</span>
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/src/main.js~VideoCompositor.html#static-method-validatePlaylist">validatePlaylist</a></span></span><span data-ice="signature">(playlist: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span>)</span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description">Validate that the playlist is correct and playable.</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
</tbody>
</table>
</div>
<div data-ice="constructorSummary"><h2>Constructor Summary</h2><table class="summary" data-ice="summary">
  <thead><tr><td data-ice="title" colspan="3">Public Constructor</td></tr></thead>
  <tbody>
  
  <tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/src/main.js~VideoCompositor.html#instance-constructor-constructor">constructor</a></span></span><span data-ice="signature">(canvas: <span>*</span>, audioCtx: <span>*</span>)</span>
        </p>
      </div>
      <div>
        
        
        
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
</tbody>
</table>
</div>
<div data-ice="memberSummary"><h2>Member Summary</h2><table class="summary" data-ice="summary">
  <thead><tr><td data-ice="title" colspan="3">Public Members</td></tr></thead>
  <tbody>
  
  <tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      <span class="kind" data-ice="kind">set</span>
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/src/main.js~VideoCompositor.html#instance-set-currentTime">currentTime</a></span></span><span data-ice="signature">(time: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></span>): <span>*</span></span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description">Sets the current time through the playlist.</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      <span class="kind" data-ice="kind">get</span>
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/src/main.js~VideoCompositor.html#instance-get-currentTime">currentTime</a></span></span><span data-ice="signature">: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></span>: <span>*</span></span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description">Get how far through the playlist has been played.</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/src/main.js~VideoCompositor.html#instance-member-duration">duration</a></span></span><span data-ice="signature">: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></span></span>
        </p>
      </div>
      <div>
        
        
        
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      <span class="kind" data-ice="kind">set</span>
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/src/main.js~VideoCompositor.html#instance-set-playlist">playlist</a></span></span><span data-ice="signature">: <span>*</span></span>
        </p>
      </div>
      <div>
        
        
        
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
</tbody>
</table>
</div>
<div data-ice="methodSummary"><h2>Method Summary</h2><table class="summary" data-ice="summary">
  <thead><tr><td data-ice="title" colspan="3">Public Methods</td></tr></thead>
  <tbody>
  
  <tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/src/main.js~VideoCompositor.html#instance-method-addEventListener">addEventListener</a></span></span><span data-ice="signature">(type: <span>*</span>, func: <span>*</span>)</span>
        </p>
      </div>
      <div>
        
        
        
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/src/main.js~VideoCompositor.html#instance-method-getAudioContext">getAudioContext</a></span></span><span data-ice="signature">(): <span>AudioContext</span></span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description">Returns the audio context that was either passed into the contstructor or created interally.</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/src/main.js~VideoCompositor.html#instance-method-getAudioNodeForTrack">getAudioNodeForTrack</a></span></span><span data-ice="signature">(track: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></span>): <span>GainNode</span></span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description">Gets an audio bus for the given playlist track.</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/src/main.js~VideoCompositor.html#instance-method-pause">pause</a></span></span><span data-ice="signature">()</span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description">Pause playback of the playlist.</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/src/main.js~VideoCompositor.html#instance-method-play">play</a></span></span><span data-ice="signature">()</span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description">Play the playlist.</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/src/main.js~VideoCompositor.html#instance-method-registerMediaSourceListener">registerMediaSourceListener</a></span></span><span data-ice="signature">(mediaSourceID: <span>*</span>, mediaSourceListener: <span>*</span>)</span>
        </p>
      </div>
      <div>
        
        
        
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/src/main.js~VideoCompositor.html#instance-method-removeEventListener">removeEventListener</a></span></span><span data-ice="signature">(type: <span>*</span>, func: <span>*</span>): <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></span></span>
        </p>
      </div>
      <div>
        
        
        
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
</tbody>
</table>
</div>




<div data-ice="staticMethodDetails"><h2 data-ice="title">Static Public Methods</h2>

<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-method-calculatePlaylistDuration">
    <span class="access" data-ice="access">public</span>
    <span data-ice="static">static</span>
    
    
    
    <span data-ice="name">calculatePlaylistDuration</span><span data-ice="signature">(playlist: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span>): <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></span></span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/src/main.js.html#lineNumber550">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>Calculate the duration of the passed playlist.</p>
<p>Will return the time that the last media source in the longest track stops playing.</p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">playlist</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>This is a playlist object.</p>
</td>
    </tr>
</tbody>
  </table>
</div>
</div>

  <div class="return-params" data-ice="returnParams">
    <h4>Return:</h4>
    <table>
      <tr>
        <td class="return-type" data-ice="returnType"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></span></td>
        <td class="return-desc" data-ice="returnDescription"><p>The duration in seconds of the given playlist.</p>
</td>
      </tr>
    </table>
    <div data-ice="returnProperties">
</div>
  </div>

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">var playlist = {
  tracks:[
      [{type:&quot;video&quot;, start:0, duration:4, src:&quot;video1.mp4&quot;, id:&quot;video1&quot;},{type:&quot;video&quot;, start:4, duration:4, src:&quot;video2.mp4&quot;, id:&quot;video2&quot;}],
      [{type:&quot;video&quot;, start:6, duration:4, src:&quot;video3.mp4&quot;, id:&quot;video3&quot;}]
  ]
}
var playilstDuration = VideoCompositor.calculateTrackDuration(playlist);
//playlistDuration === 10</code></pre>
    </div>
</div>

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-method-calculateTrackDuration">
    <span class="access" data-ice="access">public</span>
    <span data-ice="static">static</span>
    
    
    
    <span data-ice="name">calculateTrackDuration</span><span data-ice="signature">(track: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></span>): <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></span></span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/src/main.js.html#lineNumber522">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>Calculate the duration of the passed playlist track.</p>
<p>Will return the time that the last media source in the track stops playing.</p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">track</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>this is track which consits of an array object of MediaSourceReferences (typcially a track from a playlist object).</p>
</td>
    </tr>
</tbody>
  </table>
</div>
</div>

  <div class="return-params" data-ice="returnParams">
    <h4>Return:</h4>
    <table>
      <tr>
        <td class="return-type" data-ice="returnType"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></span></td>
        <td class="return-desc" data-ice="returnDescription"><p>The duration in seconds of the given track.</p>
</td>
      </tr>
    </table>
    <div data-ice="returnProperties">
</div>
  </div>

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">var playlist = {
  tracks:[
      [{type:&quot;video&quot;, start:0, duration:4, src:&quot;video1.mp4&quot;, id:&quot;video1&quot;},{type:&quot;video&quot;, start:4, duration:4, src:&quot;video2.mp4&quot;, id:&quot;video2&quot;}],
      [{type:&quot;video&quot;, start:6, duration:4, src:&quot;video3.mp4&quot;, id:&quot;video3&quot;}]
  ]
}
var track0Duration = VideoCompositor.calculateTrackDuration(playlist.tracks[0]);
var track1Duration = VideoCompositor.calculateTrackDuration(playlist.tracks[1]);
//track0Duration === 8
//track1Duration === 10</code></pre>
    </div>
</div>

  

  
  <div data-ice="todo"><h4>TODO:</h4><ul><li><span>Beacuse media source reference are stored in order this could implemented be far quicker.</span></li></ul></div>
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-method-renderPlaylist">
    <span class="access" data-ice="access">public</span>
    <span data-ice="static">static</span>
    
    
    
    <span data-ice="name">renderPlaylist</span><span data-ice="signature">(playlist: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span>, canvas: <span>Canvas</span>, currentTime: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></span>)</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/src/main.js.html#lineNumber686">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>Render a graphical representation of a playlist to a canvas.</p>
<p>This function is useful for rendering a graphical display of a playlist to check MediaSourceReferences are aligned on tracks as you&apos;d expect. It can also be called in an update loop with the currentTime of a VideoCompositor instance passed in to create a live timeline viewer.</p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">playlist</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>This is a playlist object.</p>
</td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">canvas</td>
      <td data-ice="type"><span>Canvas</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>This is the canvas to render to.</p>
</td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">currentTime</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>The time at wich to render a playhead.</p>
</td>
    </tr>
</tbody>
  </table>
</div>
</div>

  

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">var playlist = {
  tracks:[
      [{type:&quot;video&quot;, start:0, duration:4, src:&quot;video1.mp4&quot;, id:&quot;video1&quot;},{type:&quot;video&quot;, start:2, duration:4, src:&quot;video2.mp4&quot;, id:&quot;video2&quot;}],
  ]
}
var visualisationCanvas = document.getElementById(&quot;vis-canvas&quot;);
VideoCompositor.renderPlaylist(playlist, visualisationCanvas, 0);</code></pre>
    </div>
</div>

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-method-validatePlaylist">
    <span class="access" data-ice="access">public</span>
    <span data-ice="static">static</span>
    
    
    
    <span data-ice="name">validatePlaylist</span><span data-ice="signature">(playlist: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span>)</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/src/main.js.html#lineNumber591">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>Validate that the playlist is correct and playable.</p>
<p>This static function will analyse a playlist and check for common errors. on encountering an error it will throw an exception. The errors it currently checks for are:</p>
<p>Error 1. MediaSourceReferences have a unique ID        </p>
<p>Error 2. The playlist media sources have all the expected properties.</p>
<p>Error 3. MediaSourceReferences in single track are sequential.</p>
<p>Error 4. MediaSourceReferences in single track don&apos;t overlap</p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">playlist</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>This is a playlist object.</p>
</td>
    </tr>
</tbody>
  </table>
</div>
</div>

  

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">var playlist = {
  tracks:[
      [{type:&quot;video&quot;, start:0, duration:4, src:&quot;video1.mp4&quot;, id:&quot;video1&quot;},{type:&quot;video&quot;, start:2, duration:4, src:&quot;video2.mp4&quot;, id:&quot;video2&quot;}],
  ]
}
var playilstDuration = VideoCompositor.validatePlaylist(playlist);
//Will throw error 4 becuase mediaSourceReference video1 and video2 overlap by 2 seconds.</code></pre>
    </div>
</div>

  

  
  <div data-ice="todo"><h4>TODO:</h4><ul><li><span>Better coverage of possible errors in a playlist.</span></li></ul></div>
</div>
</div>
<div data-ice="constructorDetails"><h2 data-ice="title">Public Constructors</h2>

<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="instance-constructor-constructor">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    <span data-ice="name">constructor</span><span data-ice="signature">(canvas: <span>*</span>, audioCtx: <span>*</span>)</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/src/main.js.html#lineNumber31">source</a></span></span>
    </span>
  </h3>

  
  
  
  

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">canvas</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">audioCtx</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
</tbody>
  </table>
</div>
</div>

  

  

  

  

  

  

  
  
</div>
</div>
<div data-ice="memberDetails"><h2 data-ice="title">Public Members</h2>

<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="instance-set-currentTime">
    <span class="access" data-ice="access">public</span>
    
    <span class="kind" data-ice="kind">set</span>
    
    
    <span data-ice="name">currentTime</span><span data-ice="signature">(time: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></span>): <span>*</span></span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/src/main.js.html#lineNumber69">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>Sets the current time through the playlist.</p>
<p>Setting this is how you seek through the content. Should be frame accurate, but probably slow.</p>
</div>

  

  <div data-ice="properties">
</div>

  

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">
var playlist = {
  tracks:[
      [{type:&quot;video&quot;, start:0, duration:4, src:&quot;video1.mp4&quot;, id:&quot;video1&quot;},{type:&quot;video&quot;, start:4, duration:4, src:&quot;video2.mp4&quot;, id:&quot;video2&quot;}]
  ]
}
var canvas = document.getElementById(&apos;canvas&apos;);
var videoCompositor = new VideoCompositor(canvas);
videoCompositor.playlist = playlist;
videoCompositor.currentTime = 3; //Skip three seconds in.
videoCompositor.play();</code></pre>
    </div>
</div>

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="instance-get-currentTime">
    <span class="access" data-ice="access">public</span>
    
    <span class="kind" data-ice="kind">get</span>
    
    
    <span data-ice="name">currentTime</span><span data-ice="signature">: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></span>: <span>*</span></span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/src/main.js.html#lineNumber123">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>Get how far through the playlist has been played.</p>
<p>Getting this value will give the current playhead position. Can be used for updating timelines.</p>
</div>

  

  <div data-ice="properties">
</div>

  <div class="return-params" data-ice="returnParams">
    <h4>Return:</h4>
    <table>
      <tr>
        <td class="return-type" data-ice="returnType"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></span></td>
        <td class="return-desc" data-ice="returnDescription"><p>The time in seconds through the current playlist.</p>
</td>
      </tr>
    </table>
    <div data-ice="returnProperties">
</div>
  </div>

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">
var playlist = {
  tracks:[
      [{type:&quot;video&quot;, start:0, duration:4, src:&quot;video1.mp4&quot;, id:&quot;video1&quot;},{type:&quot;video&quot;, start:4, duration:4, src:&quot;video2.mp4&quot;, id:&quot;video2&quot;}]
  ]
}
var canvas = document.getElementById(&apos;canvas&apos;);
var videoCompositor = new VideoCompositor(canvas);
videoCompositor.playlist = playlist;
var time = videoCompositor.currentTime;
//time === 0</code></pre>
    </div>
</div>

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="instance-member-duration">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    <span data-ice="name">duration</span><span data-ice="signature">: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></span></span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/src/main.js.html#lineNumber46">source</a></span></span>
    </span>
  </h3>

  
  
  
  

  

  <div data-ice="properties">
</div>

  

  

  

  

  

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="instance-set-playlist">
    <span class="access" data-ice="access">public</span>
    
    <span class="kind" data-ice="kind">set</span>
    
    
    <span data-ice="name">playlist</span><span data-ice="signature">: <span>*</span></span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/src/main.js.html#lineNumber127">source</a></span></span>
    </span>
  </h3>

  
  
  
  

  

  <div data-ice="properties">
</div>

  

  

  

  

  

  

  
  
</div>
</div>
<div data-ice="methodDetails"><h2 data-ice="title">Public Methods</h2>

<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="instance-method-addEventListener">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    <span data-ice="name">addEventListener</span><span data-ice="signature">(type: <span>*</span>, func: <span>*</span>)</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/src/main.js.html#lineNumber184">source</a></span></span>
    </span>
  </h3>

  
  
  
  

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">type</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">func</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
</tbody>
  </table>
</div>
</div>

  

  

  

  

  

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="instance-method-getAudioContext">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    <span data-ice="name">getAudioContext</span><span data-ice="signature">(): <span>AudioContext</span></span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/src/main.js.html#lineNumber233">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>Returns the audio context that was either passed into the contstructor or created interally.</p>
</div>

  

  <div data-ice="properties">
</div>

  <div class="return-params" data-ice="returnParams">
    <h4>Return:</h4>
    <table>
      <tr>
        <td class="return-type" data-ice="returnType"><span>AudioContext</span></td>
        <td class="return-desc" data-ice="returnDescription"><p>The audio context used to create any nodes required by calls to getAudioNodeForTrack</p>
</td>
      </tr>
    </table>
    <div data-ice="returnProperties">
</div>
  </div>

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">var audioCtx = new AudioContext();
var videoCompositor = new VideoCompositor(canvas, audioCtx);

var returnedAudioContext = videoCompositor.getAudioContext();

//returnedAudioContext and audiotCtx are the same object.</code></pre>
    </div>
<div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">var videoCompositor = new VideoCompositor(canvas); //Don&apos;t pass in an audio context

var audioCtx = videoCompositor.getAudioContext();
//audioCtx was created inside the VideoCompositor constructor</code></pre>
    </div>
</div>

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="instance-method-getAudioNodeForTrack">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    <span data-ice="name">getAudioNodeForTrack</span><span data-ice="signature">(track: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></span>): <span>GainNode</span></span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/src/main.js.html#lineNumber261">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>Gets an audio bus for the given playlist track.</p>
<p>In some instances you may want to feed the audio output of the media sources from a given track into a web audio API context. This function provides a mechanism for acquiring an audio GainNode which represents a &quot;bus&quot; of a given track.</p>
<p>Note: In order for the media sources on a track to play correctly once you have an AudioNode for the track you must connect the Audio Node to the audio contexts destination (even if you want to mute them you must set the gain to 0 then connect them to the output).</p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">track</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>this is track which consits of an array object of MediaSourceReferences (typcially a track from a playlist object).</p>
</td>
    </tr>
</tbody>
  </table>
</div>
</div>

  <div class="return-params" data-ice="returnParams">
    <h4>Return:</h4>
    <table>
      <tr>
        <td class="return-type" data-ice="returnType"><span>GainNode</span></td>
        <td class="return-desc" data-ice="returnDescription"><p>this is a web audio GainNode which has the ouput of any audio producing media sources from the passed track played out of it.</p>
</td>
      </tr>
    </table>
    <div data-ice="returnProperties">
</div>
  </div>

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">
var playlist = {
  tracks:[
      [{type:&quot;video&quot;, start:0, duration:4, src:&quot;video1.mp4&quot;, id:&quot;video1&quot;},{type:&quot;video&quot;, start:4, duration:4, src:&quot;video2.mp4&quot;, id:&quot;video2&quot;}]
  ]
}

var audioCtx = new AudioContext();
var canvas = document.getElementById(&quot;canvas&quot;);
var videoCompositor = new VideoCompositor(canvas, audioCtx);
videoCompositor.playlist = playlist;
var trackGainNode = videoCompositor.getAudioNodeForTrack(playlist.tracks[0]);
trackGainNode.gain.value = 0.0; // Mute the track</code></pre>
    </div>
</div>

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="instance-method-pause">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    <span data-ice="name">pause</span><span data-ice="signature">()</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/src/main.js.html#lineNumber175">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>Pause playback of the playlist. Call play() to resume playing.</p>
</div>

  

  <div data-ice="properties">
</div>

  

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">
var playlist = {
  tracks:[
      [{type:&quot;video&quot;, start:0, duration:4, src:&quot;video1.mp4&quot;, id:&quot;video1&quot;},{type:&quot;video&quot;, start:4, duration:4, src:&quot;video2.mp4&quot;, id:&quot;video2&quot;}]
  ]
}
var canvas = document.getElementById(&apos;canvas&apos;);
var videoCompositor = new VideoCompositor(canvas);
videoCompositor.playlist = playlist;
videoCompositor.play();

setTimeout(videoCompositor.pause, 3000); //pause after 3 seconds</code></pre>
    </div>
</div>

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="instance-method-play">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    <span data-ice="name">play</span><span data-ice="signature">()</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/src/main.js.html#lineNumber152">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>Play the playlist. If a pause() has been called previously playback will resume from that point.</p>
</div>

  

  <div data-ice="properties">
</div>

  

  

  

  

  <div data-ice="example">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">
var playlist = {
  tracks:[
      [{type:&quot;video&quot;, start:0, duration:4, src:&quot;video1.mp4&quot;, id:&quot;video1&quot;},{type:&quot;video&quot;, start:4, duration:4, src:&quot;video2.mp4&quot;, id:&quot;video2&quot;}]
  ]
}
var canvas = document.getElementById(&apos;canvas&apos;);
var videoCompositor = new VideoCompositor(canvas);
videoCompositor.playlist = playlist;
videoCompositor.play();</code></pre>
    </div>
</div>

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="instance-method-registerMediaSourceListener">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    <span data-ice="name">registerMediaSourceListener</span><span data-ice="signature">(mediaSourceID: <span>*</span>, mediaSourceListener: <span>*</span>)</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/src/main.js.html#lineNumber207">source</a></span></span>
    </span>
  </h3>

  
  
  
  

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">mediaSourceID</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">mediaSourceListener</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
</tbody>
  </table>
</div>
</div>

  

  

  

  

  

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="instance-method-removeEventListener">
    <span class="access" data-ice="access">public</span>
    
    
    
    
    <span data-ice="name">removeEventListener</span><span data-ice="signature">(type: <span>*</span>, func: <span>*</span>): <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></span></span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/src/main.js.html#lineNumber195">source</a></span></span>
    </span>
  </h3>

  
  
  
  

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">type</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">func</td>
      <td data-ice="type"><span>*</span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"></td>
    </tr>
</tbody>
  </table>
</div>
</div>

  <div class="return-params" data-ice="returnParams">
    <h4>Return:</h4>
    <table>
      <tr>
        <td class="return-type" data-ice="returnType"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></span></td>
        
      </tr>
    </table>
    <div data-ice="returnProperties">
</div>
  </div>

  

  

  

  

  

  
  
</div>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.3.1)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
